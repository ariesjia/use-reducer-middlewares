(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{247:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(0);exports.default=function(reducer,initialState,initializer){return void 0===initializer&&(initializer=function(state){return state}),function(middlewares){void 0===middlewares&&(middlewares=[]);var middlewareDispatch,ref=react_1.useRef(initializer(initialState)),rerender=react_1.useState()[1],composedMiddleware=react_1.useMemo(function(){return function compose(chain){return function(store,dispatch){return chain.reduceRight(function(res,middleware){return middleware(store)(res)},dispatch)}}(middlewares)},middlewares),middlewareAPI={getState:function(){return ref.current},dispatch:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return middlewareDispatch.apply(void 0,args)}};return middlewareDispatch=composedMiddleware(middlewareAPI,function(action){return ref.current=reducer(ref.current,action),rerender({}),action}),[ref.current,middlewareDispatch]}}},261:function(module,exports,__webpack_require__){__webpack_require__(262),__webpack_require__(339),module.exports=__webpack_require__(340)},340:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67),_storybook_theming__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(259);const theme=Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_1__.create)({colorPrimary:"#FF4785",colorSecondary:"#1EA7FD"});Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.addParameters)({options:{theme:theme}});const req=__webpack_require__(488);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(function loadStories(){req.keys().forEach(filename=>req(filename))},module)}.call(this,__webpack_require__(341)(module))},488:function(module,exports,__webpack_require__){var map={"./__stories__/0-home.story.tsx":489,"./__stories__/1-normal.story.tsx":500,"./__stories__/redux-midlleware.story.tsx":501};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=488},489:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0}),exports.withStorySource=__webpack_require__(164).withStorySource,exports.__STORY__='import * as React from \'react\';\nimport { storiesOf } from \'@storybook/react\';\nimport { linkTo } from \'@storybook/addon-links\';\n\nstoriesOf(\'home\', module).add(\'home\', () => (\n  <div className="section container">\n    <h1 className="title">use-reducer-middlewares</h1>\n    <h2 className="subtitle">enhance React Hooks API useReducer to apply middlewares</h2>\n    <div className="content" />\n    <div className="content">\n      <h3 className="strong">Install</h3>\n      <blockquote>npm install use-reducer-middlewares</blockquote>\n    </div>\n    <div className="content">\n      <h3 className="strong">Use</h3>\n      <blockquote>\n        <p>import useMiddleWares from \'use-reducer-middlewares\'</p>\n        <p>const [state, dispatch] = useMiddleWares(reducer, initialState)([ thunkMiddleware ]);</p>\n      </blockquote>\n    </div>\n    <div className="content">\n      <h3 className="strong">Demos</h3>\n      <ol type="1">\n        <li>\n          base use\n          <button onClick={linkTo(\'demo\', \'thunk test\')}>Demo</button>\n        </li>\n      </ol>\n    </div>\n  </div>\n));\n',exports.__ADDS_MAP__={"home--home":{startLoc:{col:30,line:5},endLoc:{col:1,line:31}}};var React=__webpack_require__(0),react_1=__webpack_require__(67),addon_links_1=__webpack_require__(491);react_1.storiesOf("home",module).addDecorator(exports.withStorySource(exports.__STORY__,exports.__ADDS_MAP__)).add("home",function(){return React.createElement("div",{className:"section container"},React.createElement("h1",{className:"title"},"use-reducer-middlewares"),React.createElement("h2",{className:"subtitle"},"enhance React Hooks API useReducer to apply middlewares"),React.createElement("div",{className:"content"}),React.createElement("div",{className:"content"},React.createElement("h3",{className:"strong"},"Install"),React.createElement("blockquote",null,"npm install use-reducer-middlewares")),React.createElement("div",{className:"content"},React.createElement("h3",{className:"strong"},"Use"),React.createElement("blockquote",null,React.createElement("p",null,"import useMiddleWares from 'use-reducer-middlewares'"),React.createElement("p",null,"const [state, dispatch] = useMiddleWares(reducer, initialState)([ thunkMiddleware ]);"))),React.createElement("div",{className:"content"},React.createElement("h3",{className:"strong"},"Demos"),React.createElement("ol",{type:"1"},React.createElement("li",null,"base use",React.createElement("button",{onClick:addon_links_1.linkTo("demo","thunk test")},"Demo")))))})}).call(this,__webpack_require__(17)(module))},500:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0}),exports.withStorySource=__webpack_require__(164).withStorySource,exports.__STORY__="import * as React from 'react';\nimport { storiesOf } from '@storybook/react';\n\nimport useMiddleWares from '../index';\n\nconst thunkMiddleware = ({ dispatch, getState }) => next => action => {\n  if (typeof action === 'function') {\n    return action(dispatch, getState);\n  }\n  return next(action);\n};\n\nconst initialState = { count: 0 };\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'increment':\n      return { count: state.count + 1 };\n    case 'decrement':\n      return { count: state.count - 1 };\n    default:\n      return {};\n  }\n}\n\nconst Demo = () => {\n  const [state, dispatch] = useMiddleWares(reducer, initialState)([thunkMiddleware]);\n  return (\n    <>\n      <button onClick={() => dispatch({ type: 'increment' })}>+</button>\n      <button\n        onClick={() =>\n          dispatch(dispatch => {\n            window.setTimeout(() => {\n              dispatch({ type: 'increment' });\n            }, 500);\n          })\n        }\n      >\n        timeout +\n      </button>\n      Count: <span id=\"count\">{state.count}</span>\n      <button onClick={() => dispatch({ type: 'decrement' })}>-</button>\n    </>\n  );\n};\n\nstoriesOf('demo', module).add('thunk test', () => <Demo />);\n",exports.__ADDS_MAP__={"demo--thunk-test":{startLoc:{col:30,line:48},endLoc:{col:58,line:48}}};var React=__webpack_require__(0),react_1=__webpack_require__(67),index_1=__webpack_require__(247),thunkMiddleware=function(_a){var dispatch=_a.dispatch,getState=_a.getState;return function(next){return function(action){return"function"==typeof action?action(dispatch,getState):next(action)}}},initialState={count:0};function reducer(state,action){switch(action.type){case"increment":return{count:state.count+1};case"decrement":return{count:state.count-1};default:return{}}}var Demo=function(){var _a=index_1.default(reducer,initialState)([thunkMiddleware]),state=_a[0],dispatch=_a[1];return React.createElement(React.Fragment,null,React.createElement("button",{onClick:function(){return dispatch({type:"increment"})}},"+"),React.createElement("button",{onClick:function(){return dispatch(function(dispatch){window.setTimeout(function(){dispatch({type:"increment"})},500)})}},"timeout +"),"Count: ",React.createElement("span",{id:"count"},state.count),React.createElement("button",{onClick:function(){return dispatch({type:"decrement"})}},"-"))};react_1.storiesOf("demo",module).addDecorator(exports.withStorySource(exports.__STORY__,exports.__ADDS_MAP__)).add("thunk test",function(){return React.createElement(Demo,null)})}).call(this,__webpack_require__(17)(module))},501:function(module,exports,__webpack_require__){"use strict";(function(module){var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.withStorySource=__webpack_require__(164).withStorySource,exports.__STORY__="import * as React from 'react';\nimport { storiesOf } from '@storybook/react';\nimport { action } from '@storybook/addon-actions';\nimport { createLogger } from 'redux-logger';\n\nimport useMiddleWares from '../index';\n\nconst initialState = {};\n\nfunction reducer() {\n  return {};\n}\n\nconst Demo = () => {\n  const [state, dispatch] = useMiddleWares(reducer, initialState)([\n    createLogger({\n      logger: {\n        ...console,\n        log(...args) {\n          action('log')(args);\n          console.log(...args);\n        },\n      },\n    }),\n  ]);\n  return (\n    <>\n      <button onClick={() => dispatch({ type: 'log' })}>LOG</button>\n    </>\n  );\n};\n\nstoriesOf('demo', module).add('redux-logger test', () => <Demo />);\n",exports.__ADDS_MAP__={"demo--redux-logger-test":{startLoc:{col:30,line:33},endLoc:{col:65,line:33}}};var React=__webpack_require__(0),react_1=__webpack_require__(67),addon_actions_1=__webpack_require__(502),redux_logger_1=__webpack_require__(572),index_1=__webpack_require__(247),initialState={};function reducer(){return{}}var Demo=function(){var _a=index_1.default(reducer,initialState)([redux_logger_1.createLogger({logger:__assign({},console,{log:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];addon_actions_1.action("log")(args),console.log.apply(console,args)}})})]),dispatch=(_a[0],_a[1]);return React.createElement(React.Fragment,null,React.createElement("button",{onClick:function(){return dispatch({type:"log"})}},"LOG"))};react_1.storiesOf("demo",module).addDecorator(exports.withStorySource(exports.__STORY__,exports.__ADDS_MAP__)).add("redux-logger test",function(){return React.createElement(Demo,null)})}).call(this,__webpack_require__(17)(module))}},[[261,1,2]]]);
//# sourceMappingURL=main.952d16eaeb70129ca270.bundle.js.map